diff --git a/src/main/tools/BUILD b/src/main/tools/BUILD
index aa29cd43de..803cde5525 100644
--- a/src/main/tools/BUILD
+++ b/src/main/tools/BUILD
@@ -59,6 +59,7 @@ cc_binary(
         "//src/conditions:windows": ["//src/main/native/windows:lib-file"],
         "//conditions:default": [],
     }),
+    linkopts = ["-DEFAULTLIB:advapi32.lib"],
 )

 cc_binary(
diff --git a/src/main/tools/build-runfiles-windows.cc b/src/main/tools/build-runfiles-windows.cc
index ca744de4e3..2986e8785a 100644
--- a/src/main/tools/build-runfiles-windows.cc
+++ b/src/main/tools/build-runfiles-windows.cc
@@ -101,6 +101,14 @@ wstring GetParentDirFromPath(const wstring& path) {
   return path.substr(0, path.find_last_of(L"\\/"));
 }

+bool IsDeveloperModeEnabled() {
+    DWORD val = 0;
+    DWORD dataSize = sizeof(val);
+    RegGetValueW(HKEY_LOCAL_MACHINE, L"SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\AppModelUnlock",
+                 L"AllowDevelopmentWithoutDevLicense", RRF_RT_DWORD, nullptr, &val, &dataSize)
+    return val != 0;
+}
+
 inline void Trim(wstring& str) {
   str.erase(0, str.find_first_not_of(' '));
   str.erase(str.find_last_not_of(' ') + 1);
@@ -235,7 +243,11 @@ class RunfilesCreator {
     }
   }

+
   bool DoesCreatingSymlinkNeedAdminPrivilege(const wstring& runfiles_base_dir) {
+    if (IsDeveloperModeEnabled()) {
+      return false;
+    }
     wstring dummy_link = runfiles_base_dir + L"\\dummy_link";
     wstring dummy_target = runfiles_base_dir + L"\\dummy_target";
